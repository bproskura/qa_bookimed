{"uid":"6d291586822c905a","name":"Форма 'Request a call' на 435-ю клинику","fullName":"tests.test_request_call.TestBookimed#test_order_for_clinic","historyId":"fda9283d06097c577344720e70332d14","time":{"start":1722285876572,"stop":1722285898989,"duration":22417},"descriptionHtml":"<h4 style=\"margin: -10px 0 5px;\"><span style=\"margin: 9px 4px 9px 0; cursor: pointer\" class=\"fa fa-files-o\" data-copy=\"test_order_for_clinic\"></span>test_order_for_clinic</h4>\n    Collected at <span class=\"label label_status_passed\">2024-07-29 20:41</span><br><br>","status":"broken","statusMessage":"TypeError: LocatorAssertions.to_be_visible() takes 1 positional argument but 2 were given","statusTrace":"self = <test_request_call.TestBookimed object at 0x7f7dfddad700>\npage = <Page url='https://us-uk.bookimed.com/create-order/phone/?clinicId=435&type=messenger-priority&button=mobile-menu-btn'>\nfake = <modules.Faker.Fake object at 0x7f7dfced0a70>\n\n    @allure.title(\"Форма 'Request a call' на 435-ю клинику\")\n    def test_order_for_clinic(self, page: Page, fake):\n        index_page = IndexPage(page)\n        order_form = OrderForm(page)\n    \n        with allure.step(\"Переходимо за посиланням\"):\n            index_page.goto(\"/\")\n    \n        with allure.step(\"Кликаем на Request a call\"):\n            index_page.click_btn(index_page.locRequestCallBtn)\n    \n        with allure.step(\"Заполняем форму\"):\n            expect(order_form.page\n                   .locator(order_form.locChooseSpecialityStepTitle)).to_be_visible(timeout=cfg.WAIT_PAGE_LOAD_TIMEOUT)\n            order_form.click_on_speciality(\"Plastic Surgery\")\n            expect(order_form.page.locator(order_form.locImproveQuestionStepTitle)).to_be_visible()\n            order_form.click_on_improve_question(\"A nose\")\n            expect(order_form.page.locator(order_form.locLookingQuestionStepTitle)).to_be_visible()\n            order_form.click_on_looking_question(\"button\", \"Best price\")\n            expect(order_form.page.locator(order_form.locHavePlasticQuestionStepTitle)).to_be_visible()\n            order_form.click_on_have_plastic_btn(\"No\")\n            expect(order_form.page.locator(order_form.locPhotoAreaQuestionStepTitle)).to_be_visible()\n            order_form.click_on_photo_area_question(\"button\", \"No\")\n            expect(order_form.page.locator(order_form.locTimeQuestionStepTitle)).to_be_visible()\n            order_form.click_on_time_answer(\"As soon as possible\")\n            order_form.click_on_continue()\n            expect(order_form.page.locator(order_form.locOfferQuestionStepTitle)).to_be_visible()\n            order_form.click_on_offer_answer(\"div\", \"Yes\")\n            expect(order_form.page.locator(order_form.locNameQuestionStepTitle)).to_be_visible()\n            order_form.input_first_name(\"teratst\")\n            order_form.click_on_confirm_button()\n            expect(order_form.page.locator(order_form.locNiceToMeetStepTitle.format(\"teratst\"))).to_be_visible()\n            expect(order_form.page.locator(order_form.locEmailStepTitle)).to_be_visible()\n            order_form.input_email(\"teratst@gmail.com\")\n            expect(order_form.page.locator(order_form.locReviewingDataStepTitle)).to_be_visible()\n            expect(order_form.page.locator(order_form.locSendingDataStepTitle)).to_be_visible()\n            expect(order_form.page.locator(order_form.locChooseCountryStepTitle)).to_be_visible()\n            order_form.click_on_country_answer(\"Turkey\")\n            expect(order_form.page.locator(order_form.locRequestCallStepTitle)).to_be_visible()\n            order_form.page.wait_for_timeout(3000)\n            order_form.select_country_code(\"Ukraine\")\n            order_form.input_phone(cfg.PHONE)\n            order_form.page.locator(order_form.locVerifyPhoneBtn).click()\n            expect(order_form.page\n>                  .locator(order_form.locVerifyPhoneStepTitle)).to_be_visible(cfg.WAIT_PAGE_LOAD_TIMEOUT)\nE           TypeError: LocatorAssertions.to_be_visible() takes 1 positional argument but 2 were given\n\nfake       = <modules.Faker.Fake object at 0x7f7dfced0a70>\nindex_page = <src.pages.index_page.index_page.IndexPage object at 0x7f7dfcf07d40>\norder_form = <src.pages.order_form.order_form.OrderForm object at 0x7f7dfcf05160>\npage       = <Page url='https://us-uk.bookimed.com/create-order/phone/?clinicId=435&type=messenger-priority&button=mobile-menu-btn'>\nself       = <test_request_call.TestBookimed object at 0x7f7dfddad700>\n\ntests/test_request_call.py:118: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1722285711483,"stop":1722285711483,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1722285711484,"stop":1722285711484,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1722285711484,"stop":1722285711565,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1722285711565,"stop":1722285711565,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1722285711565,"stop":1722285711565,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1722285711566,"stop":1722285711766,"duration":200},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fake","time":{"start":1722285711766,"stop":1722285711816,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1722285876421,"stop":1722285876544,"duration":123},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_and_teardown","time":{"start":1722285876421,"stop":1722285876421,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_between_tests","time":{"start":1722285876421,"stop":1722285876421,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1722285876544,"stop":1722285876571,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"descriptionHtml":"<h4 style=\"margin: -10px 0 5px;\"><span style=\"margin: 9px 4px 9px 0; cursor: pointer\" class=\"fa fa-files-o\" data-copy=\"test_order_for_clinic\"></span>test_order_for_clinic</h4>\n    Collected at <span class=\"label label_status_passed\">2024-07-29 20:41</span><br><br>","status":"broken","statusMessage":"TypeError: LocatorAssertions.to_be_visible() takes 1 positional argument but 2 were given","statusTrace":"self = <test_request_call.TestBookimed object at 0x7f7dfddad700>\npage = <Page url='https://us-uk.bookimed.com/create-order/phone/?clinicId=435&type=messenger-priority&button=mobile-menu-btn'>\nfake = <modules.Faker.Fake object at 0x7f7dfced0a70>\n\n    @allure.title(\"Форма 'Request a call' на 435-ю клинику\")\n    def test_order_for_clinic(self, page: Page, fake):\n        index_page = IndexPage(page)\n        order_form = OrderForm(page)\n    \n        with allure.step(\"Переходимо за посиланням\"):\n            index_page.goto(\"/\")\n    \n        with allure.step(\"Кликаем на Request a call\"):\n            index_page.click_btn(index_page.locRequestCallBtn)\n    \n        with allure.step(\"Заполняем форму\"):\n            expect(order_form.page\n                   .locator(order_form.locChooseSpecialityStepTitle)).to_be_visible(timeout=cfg.WAIT_PAGE_LOAD_TIMEOUT)\n            order_form.click_on_speciality(\"Plastic Surgery\")\n            expect(order_form.page.locator(order_form.locImproveQuestionStepTitle)).to_be_visible()\n            order_form.click_on_improve_question(\"A nose\")\n            expect(order_form.page.locator(order_form.locLookingQuestionStepTitle)).to_be_visible()\n            order_form.click_on_looking_question(\"button\", \"Best price\")\n            expect(order_form.page.locator(order_form.locHavePlasticQuestionStepTitle)).to_be_visible()\n            order_form.click_on_have_plastic_btn(\"No\")\n            expect(order_form.page.locator(order_form.locPhotoAreaQuestionStepTitle)).to_be_visible()\n            order_form.click_on_photo_area_question(\"button\", \"No\")\n            expect(order_form.page.locator(order_form.locTimeQuestionStepTitle)).to_be_visible()\n            order_form.click_on_time_answer(\"As soon as possible\")\n            order_form.click_on_continue()\n            expect(order_form.page.locator(order_form.locOfferQuestionStepTitle)).to_be_visible()\n            order_form.click_on_offer_answer(\"div\", \"Yes\")\n            expect(order_form.page.locator(order_form.locNameQuestionStepTitle)).to_be_visible()\n            order_form.input_first_name(\"teratst\")\n            order_form.click_on_confirm_button()\n            expect(order_form.page.locator(order_form.locNiceToMeetStepTitle.format(\"teratst\"))).to_be_visible()\n            expect(order_form.page.locator(order_form.locEmailStepTitle)).to_be_visible()\n            order_form.input_email(\"teratst@gmail.com\")\n            expect(order_form.page.locator(order_form.locReviewingDataStepTitle)).to_be_visible()\n            expect(order_form.page.locator(order_form.locSendingDataStepTitle)).to_be_visible()\n            expect(order_form.page.locator(order_form.locChooseCountryStepTitle)).to_be_visible()\n            order_form.click_on_country_answer(\"Turkey\")\n            expect(order_form.page.locator(order_form.locRequestCallStepTitle)).to_be_visible()\n            order_form.page.wait_for_timeout(3000)\n            order_form.select_country_code(\"Ukraine\")\n            order_form.input_phone(cfg.PHONE)\n            order_form.page.locator(order_form.locVerifyPhoneBtn).click()\n            expect(order_form.page\n>                  .locator(order_form.locVerifyPhoneStepTitle)).to_be_visible(cfg.WAIT_PAGE_LOAD_TIMEOUT)\nE           TypeError: LocatorAssertions.to_be_visible() takes 1 positional argument but 2 were given\n\nfake       = <modules.Faker.Fake object at 0x7f7dfced0a70>\nindex_page = <src.pages.index_page.index_page.IndexPage object at 0x7f7dfcf07d40>\norder_form = <src.pages.order_form.order_form.OrderForm object at 0x7f7dfcf05160>\npage       = <Page url='https://us-uk.bookimed.com/create-order/phone/?clinicId=435&type=messenger-priority&button=mobile-menu-btn'>\nself       = <test_request_call.TestBookimed object at 0x7f7dfddad700>\n\ntests/test_request_call.py:118: TypeError","steps":[{"name":"Переходимо за посиланням","time":{"start":1722285876572,"stop":1722285879769,"duration":3197},"status":"passed","steps":[{"name":"goto '/'","time":{"start":1722285876572,"stop":1722285879769,"duration":3197},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"endpoint","value":"'/'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Кликаем на Request a call","time":{"start":1722285879769,"stop":1722285880648,"duration":879},"status":"passed","steps":[{"name":"click button","time":{"start":1722285879770,"stop":1722285880648,"duration":878},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"'//a[contains(text(), 'Request a call')]'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Заполняем форму","time":{"start":1722285880648,"stop":1722285898988,"duration":18340},"status":"broken","statusMessage":"TypeError: LocatorAssertions.to_be_visible() takes 1 positional argument but 2 were given\n","statusTrace":"  File \"/home/runner/work/qa_bookimed/qa_bookimed/tests/test_request_call.py\", line 118, in test_order_for_clinic\n    .locator(order_form.locVerifyPhoneStepTitle)).to_be_visible(cfg.WAIT_PAGE_LOAD_TIMEOUT)\n                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Выбираем специальность 'Plastic Surgery'","time":{"start":1722285883709,"stop":1722285884515,"duration":806},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"speciality","value":"'Plastic Surgery'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выбираем улучшение 'A nose'","time":{"start":1722285885374,"stop":1722285885412,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"improve","value":"'A nose'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выбираем 'Best price'","time":{"start":1722285885771,"stop":1722285885826,"duration":55},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element_type","value":"'button'"},{"name":"looking","value":"'Best price'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выбираем 'No'","time":{"start":1722285886187,"stop":1722285886242,"duration":55},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"answer","value":"'No'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выбираем 'No'","time":{"start":1722285887101,"stop":1722285887139,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element_type","value":"'button'"},{"name":"answer","value":"'No'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выбираем 'As soon as possible'","time":{"start":1722285887246,"stop":1722285887294,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"answer","value":"'As soon as possible'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нажимаем Continue","time":{"start":1722285887294,"stop":1722285887332,"duration":38},"status":"passed","steps":[{"name":"click button","time":{"start":1722285887295,"stop":1722285887332,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"'//button[contains(text(), 'Continue')]|//div[contains(text(), 'Continue')]'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выбираем 'Yes'","time":{"start":1722285887439,"stop":1722285887500,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element_type","value":"'div'"},{"name":"answer","value":"'Yes'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Вводим имя 'teratst' и нажимаем Confirm","time":{"start":1722285887616,"stop":1722285887626,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"name","value":"'teratst'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нажимаем Confirm","time":{"start":1722285887626,"stop":1722285887665,"duration":39},"status":"passed","steps":[{"name":"click button","time":{"start":1722285887626,"stop":1722285887665,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"'//div[contains(text(), 'Confirm')]|//button[contains(text(), 'Confirm')]'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Вводим почту 'teratst@gmail.com' и нажимаем Confirm","time":{"start":1722285890546,"stop":1722285890604,"duration":58},"status":"passed","steps":[{"name":"click button","time":{"start":1722285890557,"stop":1722285890604,"duration":47},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"'//div[contains(text(), 'Confirm')]|//button[contains(text(), 'Confirm')]'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"email","value":"'teratst@gmail.com'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выбираем страну 'Turkey' и нажимаем 'Continue'","time":{"start":1722285895431,"stop":1722285895525,"duration":94},"status":"passed","steps":[{"name":"click button","time":{"start":1722285895431,"stop":1722285895471,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"'//div[contains(text(),'Turkey')]'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"click button","time":{"start":1722285895471,"stop":1722285895525,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"'//button[contains(text(), 'Continue')]|//div[contains(text(), 'Continue')]'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"answer","value":"'Turkey'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выбираем телефонный код страны","time":{"start":1722285898634,"stop":1722285898871,"duration":237},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"country","value":"'Ukraine'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":18,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c77383375ed83d1f","name":"Location","source":"c77383375ed83d1f.uri","type":"text/uri-list","size":106},{"uid":"eb2de5e404164f8f","name":"Screenshot","source":"eb2de5e404164f8f.png","type":"image/png","size":6344}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":23,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"context::0","time":{"start":1722285899094,"stop":1722285899149,"duration":55},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_and_teardown::0","time":{"start":1722285899149,"stop":1722285899149,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_between_tests::0","time":{"start":1722285899149,"stop":1722286029150,"duration":130001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1722286206825,"stop":1722286206832,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"Заповнення форм"},{"name":"parentSuite","value":"Bookimed"},{"name":"subSuite","value":"TestBookimed"},{"name":"host","value":"fv-az570-808"},{"name":"thread","value":"5561-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_request_call"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"6d291586822c905a.json","parameterValues":[]}